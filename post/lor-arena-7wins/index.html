<!DOCTYPE html>
<html lang="zh-tw">
    <head>
        

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>符文大地傳說競技場模型</title>
        
        <style>

    html body {
        font-family: 'Noto Sans TC', sans-serif;
        background-color: white;
    }

    :root {
        --accent: green;
        --border-width:  7px ;
    }

</style>


<link rel="stylesheet" href="https://brianchophi.github.io/css/main.css">





<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto%20Sans%20TC">


 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/rainbow.min.css"> 


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" crossorigin="anonymous">


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/go.min.js"></script>
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/golang.min.js"></script>
    
    <script>hljs.initHighlightingOnLoad();</script>






<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


<script>$(document).on('click', function() { $('.collapse').collapse('hide'); })</script>
 <meta name="generator" content="Hugo 0.81.0" />
        

        

        

        
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css" integrity="sha384-t5CR+zwDAROtph0PXGte6ia8heboACF9R5l/DiY+WZ3P2lxNgvJkQk5n7GPvLMYw" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js" integrity="sha384-FaFLTlohFghEIZkw6VGwmf9ISTubWAVYW8tG8+w2LAIftJEULZABrF9PPFv+tVkH" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js" integrity="sha384-bHBqxz8fokvgoJ/sc17HODNxa42TlaEhB+w8ZJXTc2nZf1VgEaFZeZvT4Mznfz0v" crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters:[
  {left: "$$", right: "$$", display: true},
  {left: "$", right: "$", display: false},
  {left: "\\(", right: "\\)", display: false},
  {left: "\\[", right: "\\]", display: true},
  {left: "\\begin{equation}", right: "\\end{equation}", display: true},
  {left: "\\begin{align}", right: "\\end{align}", display: true},
  {left: "\\begin{alignat}", right: "\\end{alignat}", display: true},
  {left: "\\begin{gather}", right: "\\end{gather}", display: true},
  {left: "\\begin{CD}", right: "\\end{CD}", display: true},
  {left: "\\[", right: "\\]", display: true}
]
        });
    });
</script>
        

        

    </head>

    <body>
        

        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand visible-xs" href="#">符文大地傳說競技場模型</a>
                    <button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <div class="collapse navbar-collapse">
                    
                        <ul class="nav navbar-nav">
                            
                                <li><a href="/">首頁</a></li>
                            
                                <li><a href="/about/">關於我</a></li>
                            
                                <li><a href="/post/">所有文章</a></li>
                            
                        </ul>
                    
                    
                        <ul class="nav navbar-nav navbar-right">
                            
                                <li class="navbar-icon"><a href="mailto:b98507006@gmail.com"><i class="fas fa-envelope"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://www.linkedin.com/in/brianchophi/"><i class="fab fa-linkedin"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://github.com/brianchophi"><i class="fab fa-github"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://line.me/ti/g2/l1LVsBaOCwRJWX8OOp5Vew?utm_source=invitation&amp;utm_medium=link_copy&amp;utm_campaign=default"><i class="fab fa-line"></i></a></li>
                            
                        </ul>
                    
                </div>
            </div>
        </nav>


<main>

    <div>
        <h2>符文大地傳說競技場模型</h2>
        <h5>March 15, 2021</h5>
        
<a href="https://brianchophi.github.iotags/%E6%9C%9F%E6%9C%9B%E5%80%BC"><kbd class="item-tag">期望值</kbd></a>

<a href="https://brianchophi.github.iotags/golang"><kbd class="item-tag">golang</kbd></a>


    </div>

    <div align="start" class="content"><h1 id="符文大地傳說競技場模型-遠征勝率與勝場情況分析">符文大地傳說競技場模型-遠征勝率與勝場情況分析</h1>
<h2 id="命題">命題</h2>
<p>求實力要多少才能有一半的機率用一枚代幣獲得七勝獎勵</p>
<ol>
<li>實力表示每一局勝利的機率(期望勝率)</li>
<li>此篇計算以固定值表示</li>
</ol>
<h3 id="符文大地傳說競技場規則">符文大地傳說競技場規則</h3>
<ol>
<li>七勝出場</li>
<li>連續兩敗出場</li>
<li>挑戰第七勝時僅有一次敗局機會</li>
<li>每枚代幣共可參加兩場</li>
<li>兩場中成績較優者為獎勵發放條件</li>
</ol>
<h3 id="每場可能性">每場可能性</h3>
<pre><code>敗敗:0勝
敗勝敗敗:1勝    
敗勝敗勝敗敗:2勝
敗勝敗勝敗勝敗敗:3勝
敗勝敗勝敗勝敗勝敗敗:4勝
敗勝敗勝敗勝敗勝敗勝敗敗:5勝
敗勝敗勝敗勝敗勝敗勝敗勝敗:6勝
敗勝敗勝敗勝敗勝敗勝敗勝勝:7勝
...
勝勝勝勝勝勝勝:7勝
</code></pre><h2 id="解題">解題</h2>
<h3 id="機率公式">機率公式</h3>
<p>$P_{win0}=(1-p)^2$<br>
$P_{winN}=\sum _{i=0}^n  C_i^np^n\cdot(1-p)^{2+i}$<br>
$P_{win6}=\sum _{i=0}^6  C_i^6p^6\cdot(1-p)^{1+i}$<br>
$P_{win7}=\sum _{i=0}^6  C_i^6p^7\cdot(1-p)^{i}$</p>
<h3 id="數學模型展示">數學模型展示</h3>
<table>
<thead>
<tr>
<th>勝率</th>
<th>0勝</th>
<th>1勝</th>
<th>2勝</th>
<th>3勝</th>
<th>4勝</th>
<th>5勝</th>
<th>6勝</th>
<th>7勝</th>
</tr>
</thead>
<tbody>
<tr>
<td>10%</td>
<td>81.0%</td>
<td>15.4%</td>
<td>2.9%</td>
<td>0.6%</td>
<td>0.1%</td>
<td>0.0%</td>
<td>0.0%</td>
<td>0.0%</td>
</tr>
<tr>
<td>20%</td>
<td>64.0%</td>
<td>23.0%</td>
<td>8.3%</td>
<td>3.0%</td>
<td>1.1%</td>
<td>0.4%</td>
<td>0.2%</td>
<td>0.0%</td>
</tr>
<tr>
<td>30%</td>
<td>49.0%</td>
<td>25.0%</td>
<td>12.7%</td>
<td>6.5%</td>
<td>3.3%</td>
<td>1.7%</td>
<td>1.2%</td>
<td>0.5%</td>
</tr>
<tr>
<td>40%</td>
<td>36.0%</td>
<td>23.0%</td>
<td>14.7%</td>
<td>9.4%</td>
<td>6.0%</td>
<td>3.9%</td>
<td>4.1%</td>
<td>2.7%</td>
</tr>
<tr>
<td>50%</td>
<td>25.0%</td>
<td>18.8%</td>
<td>14.1%</td>
<td>10.5%</td>
<td>7.9%</td>
<td>5.9%</td>
<td>8.9%</td>
<td>8.9%</td>
</tr>
<tr>
<td>60%</td>
<td>16.0%</td>
<td>13.4%</td>
<td>11.3%</td>
<td>9.5%</td>
<td>8.0%</td>
<td>6.7%</td>
<td>14.1%</td>
<td>21.1%</td>
</tr>
<tr>
<td>70%</td>
<td>9.0%</td>
<td>8.2%</td>
<td>7.5%</td>
<td>6.8%</td>
<td>6.2%</td>
<td>5.6%</td>
<td>17.0%</td>
<td>39.8%</td>
</tr>
<tr>
<td>80%</td>
<td>4.0%</td>
<td>3.8%</td>
<td>3.7%</td>
<td>3.5%</td>
<td>3.4%</td>
<td>3.3%</td>
<td>15.7%</td>
<td>62.6%</td>
</tr>
<tr>
<td>90%</td>
<td>1.0%</td>
<td>1.0%</td>
<td>1.0%</td>
<td>1.0%</td>
<td>1.0%</td>
<td>1.0%</td>
<td>9.4%</td>
<td>84.7%</td>
</tr>
</tbody>
</table>
<h3 id="模擬模型">模擬模型</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">getWinProbability</span>(<span style="color:#a6e22e">p</span> <span style="color:#66d9ef">float64</span>, <span style="color:#a6e22e">n</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">float64</span> {
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">n</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {
		<span style="color:#66d9ef">return</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">p</span>) <span style="color:#f92672">*</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">p</span>)
	}
	<span style="color:#a6e22e">ans</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0.0</span>
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">n</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">6</span> {
		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">6</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
			<span style="color:#a6e22e">ans</span> <span style="color:#f92672">+=</span> float64(<span style="color:#a6e22e">combin</span>.<span style="color:#a6e22e">Binomial</span>(<span style="color:#ae81ff">6</span>, <span style="color:#a6e22e">i</span>)) <span style="color:#f92672">*</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Pow</span>(<span style="color:#a6e22e">p</span>, float64(<span style="color:#ae81ff">6</span>)) <span style="color:#f92672">*</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Pow</span>(<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span><span style="color:#a6e22e">p</span>, float64(<span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#a6e22e">i</span>))
		}
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">ans</span>
	}
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">n</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">7</span> {
		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">6</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
			<span style="color:#a6e22e">ans</span> <span style="color:#f92672">+=</span> float64(<span style="color:#a6e22e">combin</span>.<span style="color:#a6e22e">Binomial</span>(<span style="color:#ae81ff">6</span>, <span style="color:#a6e22e">i</span>)) <span style="color:#f92672">*</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Pow</span>(<span style="color:#a6e22e">p</span>, float64(<span style="color:#ae81ff">7</span>)) <span style="color:#f92672">*</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Pow</span>(<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span><span style="color:#a6e22e">p</span>, float64(<span style="color:#a6e22e">i</span>))
		}
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">ans</span>
	}
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">n</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
		<span style="color:#a6e22e">ans</span> <span style="color:#f92672">+=</span> float64(<span style="color:#a6e22e">combin</span>.<span style="color:#a6e22e">Binomial</span>(<span style="color:#a6e22e">n</span>, <span style="color:#a6e22e">i</span>)) <span style="color:#f92672">*</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Pow</span>(<span style="color:#a6e22e">p</span>, float64(<span style="color:#a6e22e">n</span>)) <span style="color:#f92672">*</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Pow</span>(<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span><span style="color:#a6e22e">p</span>, float64(<span style="color:#ae81ff">2</span><span style="color:#f92672">+</span><span style="color:#a6e22e">i</span>))
	}
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">ans</span>
}
</code></pre></div><h3 id="兩場擇優效應">兩場擇優效應</h3>
<p>\begin{align}
P^*_0&amp;=P_0^2 \cr
P^*_1&amp;=P_1^2+2\times P_1\times P_0 \cr
P^*_2&amp;=P_2^2+2\times P_2\times (P_0+P_1) \cr 
P^*_n&amp;=P_n^2+2\times P_n\times \sum _ {i=0} ^ {n-1} (P_i) \cr 
P^*_7&amp;=1-(1-P_7)^2
\end{align}</p>
<table>
<thead>
<tr>
<th>勝率</th>
<th>0勝</th>
<th>1勝</th>
<th>2勝</th>
<th>3勝</th>
<th>4勝</th>
<th>5勝</th>
<th>6勝</th>
<th>7勝</th>
</tr>
</thead>
<tbody>
<tr>
<td>10%</td>
<td>65.6%</td>
<td>27.3%</td>
<td>5.7%</td>
<td>1.1%</td>
<td>0.2%</td>
<td>0.0%</td>
<td>0.0%</td>
<td>0.0%</td>
</tr>
<tr>
<td>20%</td>
<td>41.0%</td>
<td>34.8%</td>
<td>15.1%</td>
<td>5.8%</td>
<td>2.1%</td>
<td>0.8%</td>
<td>0.3%</td>
<td>0.1%</td>
</tr>
<tr>
<td>30%</td>
<td>24.0%</td>
<td>30.7%</td>
<td>20.5%</td>
<td>11.7%</td>
<td>6.3%</td>
<td>3.3%</td>
<td>2.4%</td>
<td>1.1%</td>
</tr>
<tr>
<td>40%</td>
<td>13.0%</td>
<td>21.9%</td>
<td>19.6%</td>
<td>14.8%</td>
<td>10.4%</td>
<td>7.1%</td>
<td>7.8%</td>
<td>5.4%</td>
</tr>
<tr>
<td>50%</td>
<td>6.2%</td>
<td>12.9%</td>
<td>14.3%</td>
<td>13.3%</td>
<td>11.4%</td>
<td>9.4%</td>
<td>15.4%</td>
<td>17.0%</td>
</tr>
<tr>
<td>60%</td>
<td>2.6%</td>
<td>6.1%</td>
<td>7.9%</td>
<td>8.6%</td>
<td>8.6%</td>
<td>8.2%</td>
<td>20.2%</td>
<td>37.7%</td>
</tr>
<tr>
<td>70%</td>
<td>0.8%</td>
<td>2.1%</td>
<td>3.1%</td>
<td>3.8%</td>
<td>4.3%</td>
<td>4.5%</td>
<td>17.6%</td>
<td>63.7%</td>
</tr>
<tr>
<td>80%</td>
<td>0.2%</td>
<td>0.5%</td>
<td>0.7%</td>
<td>0.9%</td>
<td>1.1%</td>
<td>1.3%</td>
<td>9.3%</td>
<td>86.0%</td>
</tr>
<tr>
<td>90%</td>
<td>0.0%</td>
<td>0.0%</td>
<td>0.0%</td>
<td>0.1%</td>
<td>0.1%</td>
<td>0.1%</td>
<td>2.0%</td>
<td>97.7%</td>
</tr>
</tbody>
</table>
<h2 id="小結">小結</h2>
<p>實力(勝率)需要接近七成,在兩次的機會裡面拿到七勝的機率超過一半</p>
<blockquote>
<p>能把握的只有自己的實力，其他都浮雲</p>
</blockquote>
</div>

    
    
    
        <h4 class="page-header">Related</h4>
         <div class="item">

    
    
    

    
    

    <h4><a href="/post/cal-repeated-wins-method/">可重複中獎模型</a></h4>
    <h5>March 12, 2021</h5>
    
<a href="https://brianchophi.github.iotags/%E6%9C%9F%E6%9C%9B%E5%80%BC"><kbd class="item-tag">期望值</kbd></a>

<a href="https://brianchophi.github.iotags/golang"><kbd class="item-tag">golang</kbd></a>



</div>
 
    

    
    

</main>

        <footer>
            <p class="copyright text-muted">© All rights reserved. Powered by <a href="https://brianchophi.github.io">BrianChoPhi</a> , <a href="https://gohugo.io">Hugo</a> and <a href="https://github.com/calintat/minimal">Minimal</a>.</p>
        </footer>

        

        
    </body>

</html>

